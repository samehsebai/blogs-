{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Desktop\\\\blog\\\\front\\\\src\\\\pages\\\\acquisation\\\\Acquisation.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport \"./acquisation.css\";\nimport { useEffect, useState, useContext } from \"react\";\nimport { useLocation } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Acquisation() {\n  _s();\n\n  const [proprietaire, setproprietaire] = useState(\"\");\n  const [dateAcquisation, setdateAcquisation] = useState(\"\");\n  const [lieuAcquisation, setlieuAcquisation] = useState(\"\");\n  const [prix, setprix] = useState(\"\");\n  const [moyenAcquisation, setmoyenAcquisation] = useState(\"\");\n  const [preuveAchat, setpreuveAchat] = useState(\"\");\n  const [certification, setcertification] = useState(\"\");\n  const [updateMode, setUpdateMode] = useState(\"\");\n  const [error, setError] = useState(false);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      const newacquisation = await axios.post(\"/acquisation\", {\n        proprietaire,\n        dateAcquisation,\n        lieuAcquisation,\n        prix,\n        moyenAcquisation,\n        preuveAchat,\n        certification\n      });\n\n      try {\n        const res = await axios.post(\"/acquisation\", newacquisation);\n        window.location.replace(\"/\");\n      } catch (err) {}\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    const getacquisation = async () => {\n      const res = await axios.get(\"/acquisationes/\" + path);\n      console.log(res);\n      setacquisation(res.data);\n      setproprietaire(res.data.proprietaire);\n      setdateAcquisation(res.data.dateAcquisation);\n      setprix(res.data.prix);\n      setmoyenAcquisation(res.data.moyenAcquisation);\n      setpreuveAchat(res.data.preuveAchat);\n      setcertification(res.data.certification);\n    };\n\n    getacquisation();\n  }, [path]);\n\n  const handleDelete = async () => {\n    try {\n      await axios.delete(\"/acquisationes/\" + path, {\n        data: {\n          username: user.username\n        }\n      });\n      window.location.replace(\"/\");\n    } catch (err) {}\n  };\n\n  const handleUpdate = async () => {\n    try {\n      await axios.put(`/acquisationes/${acquisation._id}`, {\n        proprietaire: proprietaire,\n        dateAcquisation: dateAcquisation,\n        lieuAcquisation: lieuAcquisation,\n        prix: prix,\n        moyenAcquisation: moyenAcquisation,\n        preuveAchat: preuveAchat,\n        certification: certification\n      });\n      window.location.replace(\"/\");\n      setUpdateMode(false);\n    } catch (err) {}\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"acquisation\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"acquisationtitle\",\n      children: \"acquisation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form_class\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"acquisationform\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"proprietaire\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"acquisationinput\",\n          type: \"text\",\n          placeholder: \" proprietaire\",\n          onChange: e => setproprietaire(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"date Acquisation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"acquisationinput\",\n          type: \"text\",\n          placeholder: \" date Acquisation\",\n          onChange: e => setdateAcquisation(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"lieu Acquisation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"acquisationinput\",\n          type: \"text\",\n          placeholder: \" lieu Acquisation\",\n          onChange: e => setlieuAcquisation(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"prix\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"acquisationinput\",\n          type: \"text\",\n          placeholder: \" prix\",\n          onChange: e => setprix(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"moyen Acquisation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"acquisationinput\",\n          type: \"text\",\n          placeholder: \" moyen Acquisation\",\n          onChange: e => setmoyenAcquisation(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"preuve Achat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"acquisationinput\",\n          type: \"text\",\n          placeholder: \"preuve Achat\",\n          onChange: e => setpreuveAchat(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"certification\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"acquisationinput\",\n          type: \"text\",\n          placeholder: \"certification\",\n          onChange: e => setcertification(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"acquisationbutton1\",\n          type: \"submit\",\n          children: \"enregistrer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n/*import \"./acquisation.css\"\r\nimport { useEffect, useState,useContext } from \"react\"\r\nimport { useLocation } from \"react-router\"\r\nimport Sidebar from \"../../components/sidebar/Sidebar\"\r\nimport \"./setting.css\"\r\nimport {Context} from \"../../context/Context\"\r\nimport axios from \"axios\"\r\n\r\nexport default function acquisation() {\r\n  const location  = useLocation()\r\n  const path = location.pathname.split(\"/\")[2];\r\n  const [acquisation , setacquisation] = useState({})\r\n    const {user} = useContext(Context)\r\n    const [proprietaire,setproprietaire] = useState(\"\")\r\n    const [dateAcquisation,setdateAcquisation] = useState(\"\")\r\n    const [lieuAcquisation,setlieuAcquisation] = useState(\"\")\r\n    const [prix,setprix] = useState(\"\")\r\n    const [moyenAcquisation,setmoyenAcquisation] = useState(\"\")\r\n    const [preuveAchat,setpreuveAchat] = useState(\"\")\r\n    const [certification,setcertification] = useState(\"\")\r\n    const [updateMode,setUpdateMode] = useState(false)\r\n  useEffect(()=>{\r\nconst getacquisation = async()=>{\r\n  const res = await axios.get(\"/acquisationes/\"+path)\r\n  console.log(res)\r\n  setacquisation(res.data)\r\n  setproprietaire(res.data.proprietaire)\r\n  setdateAcquisation(res.data.dateAcquisation)\r\n  setprix(res.data.prix)\r\n  setmoyenAcquisation(res.data.moyenAcquisation)\r\n  setpreuveAchat(res.data.preuveAchat)\r\n  setcertification(res.data.certification)\r\n  \r\n};\r\ngetacquisation()\r\n  },[path]);\r\n  const handleDelete = async () => {\r\n    try{\r\n    await axios.delete(\"/acquisationes/\"+ path,\r\n    { data: {username:user.username} } )\r\n    window.location.replace(\"/\")\r\n    }\r\n    catch(err){}\r\n}\r\n\r\nconst handleUpdate = async () =>{\r\n    try{\r\n        await axios.put(`/acquisationes/${acquisation._id}`,{\r\n            proprietaire:proprietaire,\r\n            dateAcquisation:dateAcquisation,\r\n            lieuAcquisation:lieuAcquisation,\r\n            prix:prix,\r\n            moyenAcquisation:moyenAcquisation,\r\n            preuveAchat:preuveAchat,\r\n            certification:certification\r\n                 }\r\n        )\r\n        window.location.replace(\"/\")\r\n        setUpdateMode(false);\r\n    }catch(err) {}\r\n}\r\n  return (\r\n    <div className=\"acquisation\">\r\n        <div className=\"acquisationwrapper\">\r\n        { updateMode? <input type=\"text\" value={title} \r\n                    className=\"acquisationtitleinput\" \r\n                    autoFocus \r\n                    onChange={(e)=>setTitle(e.target.value)}/> \r\n                    :(\r\n        <h1 className=\"acquisationtitle\">\r\n            {acquisation.proprietaire}\r\n            {acquisation.dateAcquisation}\r\n            {acquisation.lieuAcquisation}\r\n            {acquisation.prix}\r\n            {acquisation.moyenAcquisation}\r\n            {acquisation.preuveAchat}\r\n            {acquisation.certification}\r\n            {acquisation.username === user?.username && (\r\n            <div className=\"acquisationedit\">\r\n            <i className=\"acquisationeicon\" id=\"first\" class=\"fa-solid fa-pen-to-square\" onClick={() => setUpdateMode(true)}></i>\r\n            <i className=\"acquisationeicon\" id=\"last\" class=\"fa-solid fa-delete-left\" onClick={handleDelete}></i>\r\n            </div>\r\n            )}\r\n        </h1>\r\n        )}\r\n        <div className=\"acquisationinfo\">\r\n            <span className=\"acquisationdate\">{new Date(acquisation.createdAt).toDateString()}</span>\r\n        </div>\r\n    </div>\r\n    <Sidebar/>\r\n    </div>\r\n)}*/\n\n_s(Acquisation, \"kTUIG8XYjAkmnrZ0rRhkUIOqKGA=\");\n\n_c = Acquisation;\n\nvar _c;\n\n$RefreshReg$(_c, \"Acquisation\");","map":{"version":3,"sources":["C:/Users/LENOVO/Desktop/blog/front/src/pages/acquisation/Acquisation.jsx"],"names":["axios","Link","useEffect","useState","useContext","useLocation","Acquisation","proprietaire","setproprietaire","dateAcquisation","setdateAcquisation","lieuAcquisation","setlieuAcquisation","prix","setprix","moyenAcquisation","setmoyenAcquisation","preuveAchat","setpreuveAchat","certification","setcertification","updateMode","setUpdateMode","error","setError","handleSubmit","e","preventDefault","newacquisation","post","res","window","location","replace","err","console","log","getacquisation","get","path","setacquisation","data","handleDelete","delete","username","user","handleUpdate","put","acquisation","_id","target","value"],"mappings":"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","sourcesContent":["import axios from \"axios\"\r\nimport { Link } from \"react-router-dom\"\r\nimport \"./acquisation.css\"\r\nimport { useEffect, useState,useContext } from \"react\"\r\nimport { useLocation } from \"react-router\"\r\n\r\n\r\nexport default function Acquisation() {\r\n    const [proprietaire,setproprietaire] = useState(\"\")\r\n    const [dateAcquisation,setdateAcquisation] = useState(\"\")\r\n    const [lieuAcquisation,setlieuAcquisation] = useState(\"\")\r\n    const [prix,setprix] = useState(\"\")\r\n    const [moyenAcquisation,setmoyenAcquisation] = useState(\"\")\r\n    const [preuveAchat,setpreuveAchat] = useState(\"\")\r\n    const [certification,setcertification] = useState(\"\")\r\n    const [updateMode,setUpdateMode] = useState(\"\")\r\n    const [error, setError] = useState(false)\r\n\r\n\r\n\r\n    const handleSubmit = async (e) => {\r\n      e.preventDefault();\r\n    try{\r\n    const newacquisation = await axios.post(\"/acquisation\",{\r\n        proprietaire,\r\n        dateAcquisation,\r\n        lieuAcquisation,\r\n        prix,\r\n        moyenAcquisation,\r\n        preuveAchat,\r\n        certification\r\n    });\r\n    try{\r\n      const res = await axios.post(\"/acquisation\",newacquisation);\r\n      window.location.replace(\"/\")\r\n      }catch(err) {}\r\n      }  catch(err){\r\n    console.log(err)\r\n      }\r\n  };\r\n  useEffect(()=>{\r\n    const getacquisation = async()=>{\r\n      const res = await axios.get(\"/acquisationes/\"+path)\r\n      console.log(res)\r\n      setacquisation(res.data)\r\n      setproprietaire(res.data.proprietaire)\r\n      setdateAcquisation(res.data.dateAcquisation)\r\n      setprix(res.data.prix)\r\n      setmoyenAcquisation(res.data.moyenAcquisation)\r\n      setpreuveAchat(res.data.preuveAchat)\r\n      setcertification(res.data.certification)\r\n      \r\n    };\r\n    getacquisation()\r\n  },[path]);\r\n  const handleDelete = async () => {\r\n    try{\r\n    await axios.delete(\"/acquisationes/\"+ path,\r\n    { data: {username:user.username} } )\r\n    window.location.replace(\"/\")\r\n    }\r\n    catch(err){}\r\n}\r\n\r\nconst handleUpdate = async () =>{\r\n    try{\r\n        await axios.put(`/acquisationes/${acquisation._id}`,{\r\n            proprietaire:proprietaire,\r\n            dateAcquisation:dateAcquisation,\r\n            lieuAcquisation:lieuAcquisation,\r\n            prix:prix,\r\n            moyenAcquisation:moyenAcquisation,\r\n            preuveAchat:preuveAchat,\r\n            certification:certification\r\n                 }\r\n        )\r\n        window.location.replace(\"/\")\r\n        setUpdateMode(false);\r\n    }catch(err) {}\r\n}\r\n\r\n  return (\r\n    <div className=\"acquisation\">\r\n        <span className=\"acquisationtitle\">acquisation</span>\r\n        <div className=\"form_class\">\r\n        <form  className=\"acquisationform\" onSubmit={handleSubmit}>\r\n            \r\n            <label >proprietaire</label>\r\n            <input className=\"acquisationinput\" type=\"text\" placeholder=\" proprietaire\" \r\n             onChange={e=>setproprietaire(e.target.value)}\r\n            />\r\n            <label >date Acquisation</label>\r\n            <input className=\"acquisationinput\" type=\"text\" placeholder=\" date Acquisation\" \r\n            onChange={e=>setdateAcquisation(e.target.value)}\r\n            />\r\n            <label >lieu Acquisation</label>\r\n            <input className=\"acquisationinput\" type=\"text\" placeholder=\" lieu Acquisation\" \r\n            onChange={e=>setlieuAcquisation(e.target.value)}\r\n            />\r\n            <label >prix</label>\r\n            <input className=\"acquisationinput\" type=\"text\" placeholder=\" prix\" \r\n            onChange={e=>setprix(e.target.value)}\r\n            />\r\n            <label >moyen Acquisation</label>\r\n            <input className=\"acquisationinput\" type=\"text\" placeholder=\" moyen Acquisation\" \r\n            onChange={e=>setmoyenAcquisation(e.target.value)}\r\n            />\r\n            <label >preuve Achat</label>\r\n            <input className=\"acquisationinput\" type=\"text\" placeholder=\"preuve Achat\" \r\n            onChange={e=>setpreuveAchat(e.target.value)}\r\n            />\r\n            <label >certification</label>\r\n            <input className=\"acquisationinput\" type=\"text\" placeholder=\"certification\" \r\n            onChange={e=>setcertification(e.target.value)}\r\n            />\r\n\r\n            <button className=\"acquisationbutton1\" type=\"submit\">enregistrer</button>\r\n        </form>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n/*import \"./acquisation.css\"\r\nimport { useEffect, useState,useContext } from \"react\"\r\nimport { useLocation } from \"react-router\"\r\nimport Sidebar from \"../../components/sidebar/Sidebar\"\r\nimport \"./setting.css\"\r\nimport {Context} from \"../../context/Context\"\r\nimport axios from \"axios\"\r\n\r\nexport default function acquisation() {\r\n  const location  = useLocation()\r\n  const path = location.pathname.split(\"/\")[2];\r\n  const [acquisation , setacquisation] = useState({})\r\n    const {user} = useContext(Context)\r\n    const [proprietaire,setproprietaire] = useState(\"\")\r\n    const [dateAcquisation,setdateAcquisation] = useState(\"\")\r\n    const [lieuAcquisation,setlieuAcquisation] = useState(\"\")\r\n    const [prix,setprix] = useState(\"\")\r\n    const [moyenAcquisation,setmoyenAcquisation] = useState(\"\")\r\n    const [preuveAchat,setpreuveAchat] = useState(\"\")\r\n    const [certification,setcertification] = useState(\"\")\r\n    const [updateMode,setUpdateMode] = useState(false)\r\n  useEffect(()=>{\r\nconst getacquisation = async()=>{\r\n  const res = await axios.get(\"/acquisationes/\"+path)\r\n  console.log(res)\r\n  setacquisation(res.data)\r\n  setproprietaire(res.data.proprietaire)\r\n  setdateAcquisation(res.data.dateAcquisation)\r\n  setprix(res.data.prix)\r\n  setmoyenAcquisation(res.data.moyenAcquisation)\r\n  setpreuveAchat(res.data.preuveAchat)\r\n  setcertification(res.data.certification)\r\n  \r\n};\r\ngetacquisation()\r\n  },[path]);\r\n  const handleDelete = async () => {\r\n    try{\r\n    await axios.delete(\"/acquisationes/\"+ path,\r\n    { data: {username:user.username} } )\r\n    window.location.replace(\"/\")\r\n    }\r\n    catch(err){}\r\n}\r\n\r\nconst handleUpdate = async () =>{\r\n    try{\r\n        await axios.put(`/acquisationes/${acquisation._id}`,{\r\n            proprietaire:proprietaire,\r\n            dateAcquisation:dateAcquisation,\r\n            lieuAcquisation:lieuAcquisation,\r\n            prix:prix,\r\n            moyenAcquisation:moyenAcquisation,\r\n            preuveAchat:preuveAchat,\r\n            certification:certification\r\n                 }\r\n        )\r\n        window.location.replace(\"/\")\r\n        setUpdateMode(false);\r\n    }catch(err) {}\r\n}\r\n  return (\r\n    <div className=\"acquisation\">\r\n        <div className=\"acquisationwrapper\">\r\n        { updateMode? <input type=\"text\" value={title} \r\n                    className=\"acquisationtitleinput\" \r\n                    autoFocus \r\n                    onChange={(e)=>setTitle(e.target.value)}/> \r\n                    :(\r\n        <h1 className=\"acquisationtitle\">\r\n            {acquisation.proprietaire}\r\n            {acquisation.dateAcquisation}\r\n            {acquisation.lieuAcquisation}\r\n            {acquisation.prix}\r\n            {acquisation.moyenAcquisation}\r\n            {acquisation.preuveAchat}\r\n            {acquisation.certification}\r\n            {acquisation.username === user?.username && (\r\n            <div className=\"acquisationedit\">\r\n            <i className=\"acquisationeicon\" id=\"first\" class=\"fa-solid fa-pen-to-square\" onClick={() => setUpdateMode(true)}></i>\r\n            <i className=\"acquisationeicon\" id=\"last\" class=\"fa-solid fa-delete-left\" onClick={handleDelete}></i>\r\n            </div>\r\n            )}\r\n        </h1>\r\n        )}\r\n        <div className=\"acquisationinfo\">\r\n            <span className=\"acquisationdate\">{new Date(acquisation.createdAt).toDateString()}</span>\r\n        </div>\r\n    </div>\r\n    <Sidebar/>\r\n    </div>\r\n)}*/"]},"metadata":{},"sourceType":"module"}